-- Run these commands in your MySQL client to set up the onboarding workflow tables

-- Connect to your database
USE vismotordb;

-- Create onboarding_checklists table
CREATE TABLE IF NOT EXISTS onboarding_checklists (
  id INT PRIMARY KEY AUTO_INCREMENT,
  employee_id INT NOT NULL,
  title VARCHAR(100) NOT NULL,
  description TEXT,
  is_completed BOOLEAN DEFAULT FALSE,
  completed_date DATE DEFAULT NULL,
  due_date DATE,
  priority ENUM('Low', 'Medium', 'High') DEFAULT 'Medium',
  notes TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE
);

-- Create onboarding_templates table
CREATE TABLE IF NOT EXISTS onboarding_templates (
  id INT PRIMARY KEY AUTO_INCREMENT,
  title VARCHAR(100) NOT NULL,
  description TEXT,
  priority ENUM('Low', 'Medium', 'High') DEFAULT 'Medium',
  days_to_complete INT DEFAULT 7,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Insert sample templates
INSERT INTO onboarding_templates (title, description, priority, days_to_complete) VALUES
('Submit ID Documentation', 'Provide government-issued identification for verification', 'High', 3),
('Complete Tax Forms', 'Fill out required tax documentation', 'High', 5),
('Provide Bank Details', 'Submit bank account information for payroll processing', 'High', 3),
('Sign Employment Contract', 'Review and sign employment agreement', 'High', 2),
('Attend Orientation', 'Complete company orientation session', 'Medium', 7),
('Meet Department Team', 'Introduction to your team and department', 'Medium', 5),
('Set Up Accounts', 'Configure email and necessary system access', 'High', 2),
('Complete Compliance Training', 'Finish required compliance training modules', 'Medium', 14),
('Review Company Policies', 'Read and acknowledge company policies and handbook', 'Medium', 7);

-- Show the tables
SHOW TABLES LIKE 'onboarding%';

-- Show the contents
SELECT * FROM onboarding_templates; 